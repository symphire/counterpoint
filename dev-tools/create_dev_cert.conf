# ----- Main request section -----
[req]
# Which section defines the subject (Distinguished Name) fields
distinguished_name = dn
# Which section defines certificate extensions (SANs, key usage, etc.)
x509_extensions = v3_req
# Disable interactive prompts (all values are taken from the config file)
prompt = no

# ----- Subject DN (Distinguished Name) -----
[dn]
# Common Name (legacy field, not used for hostname validation anymore)
# You set it to 127.0.0.1, but clients will ignore this and look at SAN instead.
CN = 127.0.0.1

# ----- Extensions for the certificate -----
[v3_req]
# Link to the SAN definitions below
subjectAltName = @alt_names

# ----- Subject Alternative Names (SANs) -----
[alt_names]
# Modern TLS *only* checks SANs for host matching
# Add a DNS name so clients can connect via https://localhost
DNS.1 = localhost
# Optional: also allow the cert to be valid when connecting via raw IP
# Some clients may still not accept IP in SNI, but it's useful to include.
IP.1 = 127.0.0.1
